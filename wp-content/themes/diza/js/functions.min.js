"use strict";class StickyHeader{constructor(){let e=this;this.$tbayHeader=$(".tbay_header-template"),this.$tbayHeaderMain=$(".tbay_header-template .header-main"),this.$tbayHeader.hasClass("main-sticky-header")&&this.$tbayHeaderMain.length>0&&this._initStickyHeader(),$(".search-min-wrapper .btn-search-min").click(this._onClickSeachMin),$(".tbay-search-form .overlay-box").click(this._onClickOverLayBox),this._intSearchOffcanvas;let t=$(".element-sticky-header");t.length>0&&e._initELementStickyheader(t)}_initStickyHeader(){var e=this,t=$(window).width(),a=e.$tbayHeader.outerHeight(),n=e.$tbayHeaderMain.outerHeight(),o=$("#wpadminbar").length>0?$("#wpadminbar").outerHeight():0,i=e.$tbayHeaderMain.offset().top;if(t>=1024)if(0==i||i==o){if(e.$tbayHeader.hasClass("sticky-header"))return;e._stickyHeaderOnDesktop(n,i,o),e.$tbayHeaderMain.addClass("sticky-1"),$(window).scroll(function(){$(this).scrollTop()>a?e.$tbayHeaderMain.addClass("sticky-box"):e.$tbayHeaderMain.removeClass("sticky-box")})}else $(window).scroll(function(){if(e.$tbayHeader.hasClass("main-sticky-header"))if($(this).scrollTop()>i-o){if(e.$tbayHeader.hasClass("sticky-header"))return;e._stickyHeaderOnDesktop(n,i,o)}else e.$tbayHeaderMain.css("top",0).css("position","relative").removeClass("sticky-header").parent().css("padding-top",0),e.$tbayHeaderMain.prev().css("margin-bottom",0)})}_stickyHeaderOnDesktop(e,t,a){this.$tbayHeaderMain.addClass("sticky-header").css("top",a).css("position","fixed"),0==t||t==a?this.$tbayHeaderMain.parent().css("padding-top",e):this.$tbayHeaderMain.prev().css("margin-bottom",e)}_onClickSeachMin(){$(".tbay-search-form.tbay-search-min form").toggleClass("show"),$(this).toggleClass("active")}_onClickOverLayBox(){$(".search-min-wrapper .btn-search-min").removeClass("active"),$(".tbay-search-form.tbay-search-min form").removeClass("show")}_intSearchOffcanvas(){if(0!==$("#tbay-offcanvas-main").length){$('[data-toggle="offcanvas-main-search"]').on("click",function(){$("#wrapper-container").toggleClass("show"),$("#tbay-offcanvas-main").toggleClass("show")});var e=$("#tbay-offcanvas-main, .search");$(window).on("click.Bst",function(t){0!=e.has(t.target).length||e.is(t.target)||($("#wrapper-container").removeClass("show"),$("#tbay-offcanvas-main").removeClass("show"))})}}_initELementStickyheader(e){var t=e.first();let a=this;var n=!1,o=0,i=0;if(0!==t.parents(".tbay_header-template").length){var s=$("#wpadminbar").length>0?$("#wpadminbar").outerHeight():0,r=t.offset().top-$(window).scrollTop()-s,c=r;t.prevAll().each(function(){i+=$(this).outerHeight()}),e.each(function(){$(this).parents(".element-sticky-header").length>0||(o+=$(this).outerHeight())}),a._initELementStickyheaderContent(r,c,o,i,e,t,s,n),$(window).scroll(function(){n=!0,0===$(window).scrollTop()&&(c=0),a._initELementStickyheaderContent(r,c,o,i,e,t,s,n)})}}_initELementStickyheaderContent(e,t,a,n,o,i,s,r){if($(window).scrollTop()<n&&r||0===$(window).scrollTop()&&r){if(i.parent().children().first().hasClass("element-sticky-header"))return;i.css("top",""),t===e||0===t?o.last().next().css("padding-top",""):i.prev().css("margin-bottom",""),i.parent().css("padding-top",""),o.each(function(){$(this).removeClass("sticky"),$(this).prev(".element-sticky-header").length>0&&$(this).css("top","")})}else{if($(window).scrollTop()<n&&!r)return;o.each(function(){if(!($(this).parents(".element-sticky-header").length>0)&&($(this).addClass("sticky"),$(this).prevAll(".element-sticky-header").length>0)){let e=0;$(this).prevAll(".element-sticky-header").each(function(){e+=$(this).outerHeight()}),$(this).css("top",e+s)}}),i.css("top",s),t===e||0===t?(i.addClass("sticky"),i.parent().css("padding-top",a)):i.prev().css("margin-bottom",a)}}}const TREE_VIEW_OPTION_MEGA_MENU={animated:300,collapsed:!0,unique:!0,persist:"location"},TREE_VIEW_OPTION_MOBILE_MENU={animated:300,collapsed:!0,unique:!0,hover:!1};!function(e){e.extend(e.fn,{swapClass:function(e,t){var a=this.filter("."+e);return this.filter("."+t).removeClass(t).addClass(e),a.removeClass(e).addClass(t),this},replaceClass:function(e,t){return this.filter("."+e).removeClass(e).addClass(t).end()},hoverClass:function(t){return t=t||"hover",this.hover(function(){e(this).addClass(t)},function(){e(this).removeClass(t)})},heightToggle:function(e,t){e?this.animate({height:"toggle"},e,t):this.each(function(){jQuery(this)[jQuery(this).is(":hidden")?"show":"hide"](),t&&t.apply(this,arguments)})},heightHide:function(e,t){e?this.animate({height:"hide"},e,t):(this.hide(),t&&this.each(t))},prepareBranches:function(e){return e.prerendered||(this.filter(":last-child:not(ul)").addClass(t.last),this.filter((e.collapsed?"":"."+t.closed)+":not(."+t.open+")").find(">ul").hide()),this.filter(":has(>ul),:has(>.dropdown-menu)")},applyClasses:function(a,n){this.filter(":has(>ul):not(:has(>a))").find(">span").click(function(t){n.apply(e(this).next())}).add(e("a",this)).hoverClass(),a.prerendered||(this.filter(":has(>ul:hidden),:has(>.dropdown-menu:hidden)").addClass(t.expandable).replaceClass(t.last,t.lastExpandable),this.not(":has(>ul:hidden),:has(>.dropdown-menu:hidden)").addClass(t.collapsable).replaceClass(t.last,t.lastCollapsable),this.prepend('<div class="'+t.hitarea+'"/>').find("div."+t.hitarea).each(function(){var t="";e.each(e(this).parent().attr("class").split(" "),function(){t+=this+"-hitarea "}),e(this).addClass(t)})),this.find("div."+t.hitarea).click(n)},treeview:function(a){function n(){e(this).parent().find(">.hitarea").swapClass(t.collapsableHitarea,t.expandableHitarea).swapClass(t.lastCollapsableHitarea,t.lastExpandableHitarea).end().swapClass(t.collapsable,t.expandable).swapClass(t.lastCollapsable,t.lastExpandable).find(">ul,>.dropdown-menu").heightToggle(a.animated,a.toggle),a.unique&&e(this).parent().siblings().find(">.hitarea").replaceClass(t.collapsableHitarea,t.expandableHitarea).replaceClass(t.lastCollapsableHitarea,t.lastExpandableHitarea).end().replaceClass(t.collapsable,t.expandable).replaceClass(t.lastCollapsable,t.lastExpandable).find(">ul,>.dropdown-menu").heightHide(a.animated,a.toggle)}function o(){var t=[];s.each(function(a,n){t[a]=e(n).is(":has(>ul:visible)")?1:0}),e.cookie(a.cookieId,t.join(""))}if((a=e.extend({cookieId:"treeview"},a)).add)return this.trigger("add",[a.add]);if(a.toggle){var i=a.toggle;a.toggle=function(){return i.apply(e(this).parent()[0],arguments)}}this.addClass("treeview");var s=this.find("li").prepareBranches(a);switch(a.persist){case"cookie":var r=a.toggle;a.toggle=function(){o(),r&&r.apply(this,arguments)},function(){var t=e.cookie(a.cookieId);if(t){var n=t.split("");s.each(function(t,a){e(a).find(">ul")[parseInt(n[t])?"show":"hide"]()})}}();break;case"location":var c=this.find("a").filter(function(){return this.href.toLowerCase()==location.href.toLowerCase()});c.length&&c.addClass("selected").parents("ul, li").add(c.next()).show()}return s.applyClasses(a,n),a.control&&(!function(a,o){function i(o){return function(){return n.apply(e("div."+t.hitarea,a).filter(function(){return!o||e(this).parent("."+o).length})),!1}}e("a:eq(0)",o).click(i(t.collapsable)),e("a:eq(1)",o).click(i(t.expandable)),e("a:eq(2)",o).click(i())}(this,a.control),e(a.control).show()),this.bind("add",function(o,i){e(i).prev().removeClass(t.last).removeClass(t.lastCollapsable).removeClass(t.lastExpandable).find(">.hitarea").removeClass(t.lastCollapsableHitarea).removeClass(t.lastExpandableHitarea),e(i).find("li").andSelf().prepareBranches(a).applyClasses(a,n)})}});var t=e.fn.treeview.classes={open:"open",closed:"closed",expandable:"expandable",expandableHitarea:"expandable-hitarea",lastExpandableHitarea:"lastExpandable-hitarea",collapsable:"collapsable",collapsableHitarea:"collapsable-hitarea",lastCollapsableHitarea:"lastCollapsable-hitarea",lastCollapsable:"lastCollapsable",lastExpandable:"lastExpandable",last:"last",hitarea:"hitarea"};e.fn.Treeview=e.fn.treeview}(jQuery);class Mobile{constructor(){this._mobileMenu(),this._SearchFocusActive(),this._SearchOnClickSearchHeader(),this._PopupLoginMobile(),this._Select_change_form(),this._FastClicker(),this._topBarDevice(),$(window).scroll(()=>{this._topBarDevice()})}_topBarDevice(){var e=$(window).scrollTop(),t=$(".topbar-device-mobile").height(),a=$(window).scrollTop();$(".topbar-device-mobile").toggleClass("active",e<=t),$("#tbay-mobile-menu").toggleClass("offsetop",0==a)}_mobileMenu(){$('[data-toggle="offcanvas"], .btn-offcanvas').click(function(){$("#wrapper-container").toggleClass("active"),$("#tbay-mobile-menu").toggleClass("active")}),$("#main-mobile-menu .caret").click(function(){$("#main-mobile-menu .dropdown").removeClass("open"),$(event.target).parent().addClass("open")})}_SearchFocusActive(){let e=$(".tbay-search-mobile .tbay-search"),t=$(".tbay-search-mobile .button-search-cancel");e.focusin(function(){$(e.parents("#tbay-mobile-menu-navbar")).addClass("search-mobile-focus"),e.parent().find(".button-search-cancel").addClass("cancel-active")}),t.on("click",function(){$(t.parents("#tbay-mobile-menu-navbar")).removeClass("search-mobile-focus"),t.removeClass("cancel-active")})}_SearchOnClickSearchHeader(){let e=$(".search-device .search-icon"),t=$(".search-device .button-search-cancel");e.on("click",function(){$(e.parent()).addClass("active-search-mobile"),$(e.parents(".topbar-device-mobile")).addClass("active-search")}),t.on("click",function(){$(t.parents(".search-device")).removeClass("active-search-mobile"),$(e.parents(".topbar-device-mobile")).removeClass("active-search"),t.removeClass("cancel-active")})}_PopupLoginMobile(){let e=$(".mmenu-account .popup-login a, .footer-device-mobile > .device-account > a.popup-login");e.on("click",function(){let t=$("#tbay-mobile-menu-navbar").data("mmenu");$("#custom-login-wrapper").modal("show"),$(e.parents("#tbay-mobile-menu-navbar")).removeClass("mm-menu_opened"),t.close()})}_Select_change_form(){$(".topbar-device-mobile > form select").on("change",function(){this.form.submit()})}_FastClicker(){"addEventListener"in document&&document.addEventListener("DOMContentLoaded",function(){FastClick.attach(document.body)},!1)}}class AccountMenu{constructor(){this._slideToggleAccountMenu(".tbay-login"),this._slideToggleAccountMenu(".topbar-mobile"),this._tbayClickNotMyAccountMenu()}_tbayClickNotMyAccountMenu(){var e=$(window),t=$(".tbay-login .dropdown .account-menu,.topbar-mobile .dropdown .account-menu,.tbay-login .dropdown .account-button,.topbar-mobile .dropdown .account-button");e.on("click.Bst",function(e){0!=t.has(e.target).length||t.is(e.target)||($(".tbay-login .dropdown .account-menu").slideUp(500),$(".topbar-mobile .dropdown .account-menu").slideUp(500))})}_slideToggleAccountMenu(e){$(e).find(".dropdown .account-button").click(function(){$(e).find(".dropdown .account-menu").slideToggle(500)})}}class BackToTop{constructor(){this._init()}_init(){$(window).scroll(function(){var e=$(this).scrollTop()>400;$(".tbay-to-top").toggleClass("active",e),$(".tbay-category-fixed").toggleClass("active",e)}),$("#back-to-top-mobile, #back-to-top").click(this._onClickBackToTop)}_onClickBackToTop(){$("html, body").animate({scrollTop:"0px"},800)}}class CanvasMenu{constructor(){this._init(),this._remove_click_Outside(),this._initCanvasMenuSidebar(),this._initCanvasMenu()}_init(){$("#tbay-offcanvas-main .btn-toggle-canvas").on("click",function(){$("#wrapper-container").removeClass("active")}),$("#main-menu-offcanvas .caret").click(function(){return $("#main-menu-offcanvas .dropdown").removeClass("open"),$(this).parent().addClass("open"),!1}),$('[data-toggle="offcanvas-main"]').on("click",function(){$("#wrapper-container").toggleClass("active"),$("#tbay-offcanvas-main").toggleClass("active")})}_remove_click_Outside(){$(window).on("click.Bst,click touchstart tap",function(e){let t=$("#tbay-offcanvas-main, .btn-toggle-canvas");if(0==t.has(e.target).length&&!t.is(e.target))return void $("#wrapper-container").removeClass("active")})}_initCanvasMenuSidebar(){jQuery(document).on("click",".canvas-menu-sidebar .btn-canvas-menu",function(){$("body").toggleClass("canvas-menu-active")}),jQuery(document).on("click",".close-canvas-menu, .bg-close-canvas-menu",function(){$("body").removeClass("canvas-menu-active")})}_initCanvasMenu(){$(".element-menu-canvas").each(function(){jQuery(this).find(".canvas-menu-btn-wrapper > a").on("click",function(e){$(this).parent().parent().addClass("open"),e.stopPropagation()})}),jQuery(document).on("click",".canvas-overlay-wrapper",function(e){$(this).parent().removeClass("open"),e.stopPropagation()})}}class FuncCommon{constructor(){this._progressAnimation(),this._createWrapStart(),$(".mod-heading .widget-title > span").wrapStart(),this._tbayActiveAdminBar(),this._tbayResizeMegamenu(),this._initHeaderCoverBG(),this._initCanvasSearch(),this._initTreeviewMenu(),this._categoryMenu(),this._initContentMinHeight(),this._changeDefaultTimeago(),$(window).scroll(()=>{this._tbayActiveAdminBar()}),$(window).on("resize",()=>{this._tbayResizeMegamenu()}),this._addAccordionLoginandCoupon()}_tbayActiveAdminBar(){$("#wpadminbar").length>0&&$("body").addClass("active-admin-bar")}_createWrapStart(){$.fn.wrapStart=function(){return this.each(function(){var e=$(this).contents().filter(function(){return 3==this.nodeType}).first(),t=e.text().trim(),a=t.split(" ",1).join(" ");e.length&&(e[0].nodeValue=t.slice(a.length),e.before("<b>"+a+"</b>"))})}}_progressAnimation(){$("[data-progress-animation]").each(function(){var e=$(this);e.appear(function(){var t=e.attr("data-appear-animation-delay")?e.attr("data-appear-animation-delay"):1;t>1&&e.css("animation-delay",t+"ms"),setTimeout(function(){e.animate({width:e.attr("data-progress-animation")},800)},t)},{accX:0,accY:-50})})}_tbayResizeMegamenu(){var e=$("body").innerWidth();$(".tbay_custom_menu").length>0&&$(".tbay_custom_menu").hasClass("tbay-vertical-menu")&&(e>767?this._resizeMegaMenuOnDesktop():this._initTreeViewForMegaMenuOnMobile()),$(".tbay-megamenu").length>0&&$(".tbay-megamenu,.tbay-offcanvas-main").hasClass("verticle-menu")&&e>767&&this._resizeMegaMenuVertical()}_resizeMegaMenuVertical(){var e=parseInt($("#main-container.container").innerWidth()),t=e-parseInt($(".verticle-menu").innerWidth());$(".verticle-menu").find(".aligned-fullwidth").children(".dropdown-menu").css({"max-width":t,width:e-30})}_resizeMegaMenuOnDesktop(){let e=$("#main-container.container").innerWidth()-$(".tbay-vertical-menu").innerWidth(),t=$("#main-container.container").innerWidth()-30;$(".tbay-vertical-menu").find(".aligned-fullwidth").children(".dropdown-menu").css({"max-width":e,width:t})}_initTreeViewForMegaMenuOnMobile(){$(".tbay-vertical-menu > .widget_nav_menu >.nav > ul").treeview(TREE_VIEW_OPTION_MEGA_MENU)}_addAccordionLoginandCoupon(){$(".showlogin, .showcoupon").click(function(e){$(e.currentTarget).toggleClass("active")})}_initHeaderCoverBG(){let e=$(".tbay-horizontal .navbar-nav > li,.tbay-horizontal-default .navbar-nav > li, .tbay_header-template .product-recently-viewed-header"),t=$(".tbay-search-form .tbay-search"),a=$(".category-inside .category-inside-title"),n=$(".cart-popup");e.mouseenter(function(){0!==$(this).parents("#tbay-header").length&&0!=$(this).children(".dropdown-menu, ul, .content-view").length&&$(".tbay_header-template").addClass("nav-cover-active-1")}).mouseleave(function(){$(this).closest(".dropdown-menu").length||$(".tbay_header-template").removeClass("nav-cover-active-1")}),t.focusin(function(){$(this).closest(".dropdown-menu").length||t.parents(".sidebar-canvas-search").length>0||0===$(this).closest(".tbay_header-template").length||$(".tbay_header-template").addClass("nav-cover-active-2")}).focusout(function(){$(".tbay_header-template").removeClass("nav-cover-active-2")}),n.on("shown.bs.dropdown",function(e){$(e.target).closest(".tbay_header-template").addClass("nav-cover-active-3")}).on("hidden.bs.dropdown",function(e){$(e.target).closest(".tbay_header-template").removeClass("nav-cover-active-3")}),a.parents(".tbay_header-template")&&($(document.body).on("tbay_category_inside_open",()=>{$(".tbay_header-template").addClass("nav-cover-active-4")}),$(document.body).on("tbay_category_inside_close",()=>{$(".tbay_header-template").removeClass("nav-cover-active-4")}))}_initCanvasSearch(){let e=$("#tbay-search-form-canvas .sidebar-canvas-search .sidebar-content .tbay-search");e.focusin(function(){e.parent().addClass("search_cv_active")}).focusout(function(){e.parent().removeClass("search_cv_active")})}_initTreeviewMenu(){$("#category-menu").addClass("treeview"),jQuery(".treeview-menu .menu, #category-menu").treeview(TREE_VIEW_OPTION_MEGA_MENU),jQuery("#main-mobile-menu, #main-mobile-menu-xlg").treeview(TREE_VIEW_OPTION_MOBILE_MENU)}_categoryMenu(){$(".category-inside .category-inside-title").click(function(){$(event.target).parents(".category-inside").toggleClass("open"),$(event.target).parents(".category-inside").hasClass("setting-open")||($(event.target).parents(".category-inside").hasClass("open")?$(document.body).trigger("tbay_category_inside_open"):$(document.body).trigger("tbay_category_inside_close"))}),$(window).on("click.Bst,click touchstart tap",function(e){let t=$(".category-inside .category-inside-title, .category-inside-content");if(($(".category-inside").hasClass("open")||$(".tbay_header-template").hasClass("nav-cover-active-4"))&&0==t.has(e.target).length&&!t.is(e.target)){let e=$(".category-inside");$.each(e,function(e,t){$(t).hasClass("setting-open")||($(t).removeClass("open"),$(".tbay_header-template").removeClass("nav-cover-active-4"))})}})}_initContentMinHeight(){let e=$("body").innerWidth(),t=$(window).height(),a=$(".tbay_header-template").outerHeight();$("#tbay-main-content").outerHeight()<t&&e>1200&&$("#tbay-main-content").css("min-height",t-a)}_changeDefaultTimeago(){"undefined"!=typeof diza_settings&&void 0!==jQuery.timeago&&jQuery.extend(jQuery.timeago.settings.strings,{suffixAgo:diza_settings.timeago.suffixAgo,suffixFromNow:diza_settings.timeago.suffixFromNow,inPast:diza_settings.timeago.inPast,seconds:diza_settings.timeago.seconds,minute:diza_settings.timeago.minute,minutes:diza_settings.timeago.minutes,hour:diza_settings.timeago.hour,hours:diza_settings.timeago.hours,day:diza_settings.timeago.day,days:diza_settings.timeago.days,month:diza_settings.timeago.month,months:diza_settings.timeago.months,year:diza_settings.timeago.year,years:diza_settings.timeago.years})}}class NewsLetter{constructor(){this._init()}_init(){0!==$("#popupNewsletterModal").length&&($("#popupNewsletterModal").on("hidden.bs.modal",function(){Cookies.set("hiddenmodal",1,{expires:.1,path:"/"})}),setTimeout(function(){""!=Cookies.get("hiddenmodal")&&void 0!==Cookies.get("hiddenmodal")||$("#popupNewsletterModal").modal("show")},3e3))}}class Banner{constructor(){this._init()}_init(){let e=$(".banner-remove");0===e.length?$(".elementor-widget-tbay-banner-close").each(function(){$(this).closest("section").addClass("section-banner-close")}):e.on("click",function(e){let t=$(this).data("id");$(this).parents(".elementor-widget-tbay-banner-close").slideUp("slow"),Cookies.set("banner_remove_"+t,"hidden",{expires:.1,path:"/"}),e.preventDefault()})}}class Search{constructor(){this._init()}_init(){this._tbaySearchMobile(),this._searchToTop(),this._searchCanvasForm(),this._searchCanvasFormV3(),$(".button-show-search").click(()=>$(".tbay-search-form").addClass("active")),$(".button-hidden-search").click(()=>$(".tbay-search-form").removeClass("active"))}_tbaySearchMobile(){$(".search-device-mobile").each(function(){$(this).find(".show-search").click(e=>{$(this).find(".tbay-search-form .input-group .tbay-search").focus();$(e.currentTarget).toggleClass("active")})}),$("#tbay-search-mobile-close").on("click",function(){$(this).parent().removeClass("active-search-mobile")}),$(".tbay-search-mobile .searchform .button-group .tbay-preloader").on("click",function(){$(this).parents("form").hasClass("open")&&$(this).parents("form").find(".tbay-search").attr("value","")})}_searchToTop(){$(".search-totop-wrapper .btn-search-totop").click(function(){$(".search-totop-content").toggleClass("active"),$(this).toggleClass("active")});var e=$(".search-totop-wrapper .btn-search-totop, .search-totop-content");$(window).on("click.Bst",function(t){0!=e.has(t.target).length||e.is(t.target)||($(".search-totop-wrapper .btn-search-totop").removeClass("active"),$(".search-totop-content").removeClass("active"))})}_searchCanvasForm(){let e=$("#tbay-search-form-canvas");if(0!==e.length){e.find("button.search-open").click(function(){$(event.target).parents("#tbay-search-form-canvas").toggleClass("open"),$("body").toggleClass("active-search-canvas")});let t=$(window),a=$("#tbay-search-form-canvas .search-open, #tbay-search-form-canvas .sidebar-content");t.on("click.Bst",function(t){e.hasClass("open")&&(0!=a.has(t.target).length||a.is(t.target)||(e.removeClass("open"),$("body").removeClass("active-search-canvas")))}),e.find("button.btn-search-close").click(function(){e.hasClass("open")&&(e.removeClass("open"),$("body").removeClass("active-search-canvas"))})}}_searchCanvasFormV3(){let e=$("#tbay-search-form-canvas-v3");if(0!==e.length){e.find("button.search-open").click(function(){$(event.target).parents("#tbay-search-form-canvas-v3").toggleClass("open"),$("body").toggleClass("active-search-canvas")});let t=$(window),a=$("#tbay-search-form-canvas-v3 .search-open, #tbay-search-form-canvas-v3 .sidebar-content");t.on("click.Bst",function(t){e.hasClass("open")&&(0!=a.has(t.target).length||a.is(t.target)||(e.removeClass("open"),$("body").removeClass("active-search-canvas")))}),e.find("button.btn-search-close").click(function(){e.hasClass("open")&&(e.removeClass("open"),$("body").removeClass("active-search-canvas"))})}}}class TreeView{constructor(){this._tbayTreeViewMenu()}_tbayTreeViewMenu(){void 0!==$.fn.treeview&&void 0!==$(".tbay-treeview")&&$(".tbay-treeview").each(function(){$(this).find("> ul").treeview({animated:400,collapsed:!0,unique:!0,persist:"location"})})}}class Section{constructor(){this._tbayMegaMenu(),this._tbayRecentlyView()}_tbayMegaMenu(){let e=$(".elementor-widget-tbay-nav-menu");0!==e.length&&e.find(".tbay-element-nav-menu").each(function(){"horizontal"===$(this).data("wrapper").layout&&($(this).closest(".elementor-top-column").hasClass("tbay-column-static")||$(this).closest(".elementor-top-column").addClass("tbay-column-static"),$(this).closest("section").hasClass("tbay-section-static")||$(this).closest("section").addClass("tbay-section-static"))})}_tbayRecentlyView(){let e=$(".tbay-element-product-recently-viewed");0!==e.length&&e.each(function(){"header"===$(this).data("wrapper").layout&&($(this).closest(".elementor-top-column").hasClass("tbay-column-static")||$(this).closest(".elementor-top-column").addClass("tbay-column-static"),$(this).closest(".elementor-top-column").hasClass("tbay-column-recentlyviewed")||$(this).closest(".elementor-top-column").addClass("tbay-column-recentlyviewed"),$(this).closest("section").hasClass("tbay-section-recentlyviewed")||$(this).closest("section").addClass("tbay-section-recentlyviewed"),$(this).closest("section").hasClass("tbay-section-static")||$(this).closest("section").addClass("tbay-section-static"))})}}class Preload{constructor(){this._init()}_init(){if($.fn.jpreLoader){var e=$(".js-preloader");e.jpreLoader({},function(){e.addClass("preloader-done"),$("body").trigger("preloader-done"),$(window).trigger("resize")})}$(".tbay-page-loader").delay(100).fadeOut(400,function(){$("body").removeClass("tbay-body-loading"),$(this).remove()}),$(document.body).hasClass("tbay-body-loader")&&setTimeout(function(){$(document.body).removeClass("tbay-body-loader"),$(".tbay-page-loader").fadeOut(250)},300)}}class Accordion{constructor(){this._init()}_init(){0!==$(".single-product").length&&$("#accordion").on("shown.bs.collapse",function(e){var t=$(this).find(".collapse.show").prev(".tabs-title");t&&$("html,body").animate({scrollTop:$(t).offset().top-150},500)})}}class MenuDropdownsAJAX{constructor(){this._initmenuDropdownsAJAX()}_initmenuDropdownsAJAX(){var e=this;$("body").on("mousemove",function(){$(".menu").has(".dropdown-load-ajax").each(function(){var t=$(this);t.hasClass("dropdowns-loading")||t.hasClass("dropdowns-loaded")||e.isNear(t,50,event)&&e.loadDropdowns(t)})})}loadDropdowns(e){var t=this;e.addClass("dropdowns-loading");var a="",n="",o="";"tbay-mobile-menu-navbar"===e.closest("nav").attr("id")?($("#main-mobile-menu-mmenu-wrapper").length>0&&(o+="_"+$("#main-mobile-menu-mmenu-wrapper").data("id")),$("#main-mobile-second-mmenu-wrapper").length>0&&(o+="_"+$("#main-mobile-second-mmenu-wrapper").data("id")),a=diza_settings.storage_key+"_megamenu_mobile"+o):a=diza_settings.storage_key+"_megamenu_"+e.closest("nav > ul").data("id"),n=localStorage.getItem(a);var i=!1,s=[];e.find(".dropdown-load-ajax").each(function(){s.push($(this).find(".dropdown-html-placeholder").data("id"))});try{i=JSON.parse(n)}catch(e){console.log("cant parse Json",e)}i?(t.renderResults(i,e),"tbay-mobile-menu-navbar"!==e.attr("id")&&e.removeClass("dropdowns-loading").addClass("dropdowns-loaded")):$.ajax({url:diza_settings.ajaxurl,data:{action:"diza_load_html_dropdowns",ids:s},dataType:"json",method:"POST",success:function(n){"success"===n.status?(t.renderResults(n.data,e),localStorage.setItem(a,JSON.stringify(n.data))):console.log("loading html dropdowns returns wrong data - ",n.message)},error:function(){console.log("loading html dropdowns ajax error")}})}renderResults(e,t){var a=this;Object.keys(e).forEach(function(n){a.removeDuplicatedStylesFromHTML(e[n],function(e){let a=e;const o='<li[^>]*><a[^>]*href=["]'+window.location.href+'["]>.*?</a></li>';let i=e.match(o);if(null!==i){let e=i[0],t=e.match(/(?:class)=(?:["']\W+\s*(?:\w+)\()?["']([^'"]+)['"]/g)[0].split('"')[1],n=t+" active",o=e.replace(t,n);a=a.replace(e,o)}t.find('[data-id="'+n+'"]').replaceWith(a),"tbay-mobile-menu-navbar"!==t.attr("id")&&(t.addClass("dropdowns-loaded"),setTimeout(function(){t.removeClass("dropdowns-loading")},1e3))})})}isNear(e,t,a){var n=e.offset().left-t,o=e.offset().top-t,i=n+e.width()+2*t,s=o+e.height()+2*t,r=a.pageX,c=a.pageY;return r>n&&r<i&&c>o&&c<s}removeDuplicatedStylesFromHTML(e,t){if(diza_settings.combined_css)return void t(e);{const a=/<style>.*?<\/style>/gm;let n=e.replace(a,"");return void t(n)}}}class MenuClickAJAX{constructor(){"undefined"!=typeof diza_settings&&this._initmenuClickAJAX()}_initmenuClickAJAX(){$(".element-menu-ajax.ajax-active").each(function(){$(this).find(".menu-click").off("click").on("click",function(e){e.preventDefault();var t=$(this);if(t.closest(".element-menu-ajax").hasClass("ajax-active")){var a=t.closest(".tbay-element"),n=a.data("wrapper").type_menu,o=a.data("wrapper").layout;if("toggle"===n)i=a.find(".category-inside-content > nav");else var i=a.find(".menu-canvas-content > nav");var s=i.data("id"),r=diza_settings.storage_key+"_"+s+"_"+o,c=!1,l=localStorage.getItem(r);try{c=JSON.parse(l)}catch(e){console.log("cant parse Json",e)}c?(i.html(c),a.removeClass("load-ajax"),t.closest(".element-menu-ajax").removeClass("ajax-active"),"treeview"===o?$(document.body).trigger("tbay_load_html_click_treeview"):$(document.body).trigger("tbay_load_html_click")):$.ajax({url:diza_settings.ajaxurl,data:{action:"diza_load_html_click",slug:s,type_menu:n,layout:o},dataType:"json",method:"POST",beforeSend:function(e){a.addClass("load-ajax")},success:function(e){"success"===e.status?(i.html(e.data),localStorage.setItem(r,JSON.stringify(e.data)),"treeview"===o?$(document.body).trigger("tbay_load_html_click_treeview"):$(document.body).trigger("tbay_load_html_click")):console.log("loading html dropdowns returns wrong data - ",e.message),a.removeClass("load-ajax"),t.closest(".element-menu-ajax").removeClass("ajax-active")},error:function(){console.log("loading html dropdowns ajax error")}})}})})}}class SumoSelect{constructor(){void 0!==jQuery.fn.SumoSelect&&"undefined"!=typeof diza_settings&&this._init()}_init(){jQuery(document).ready(function(){jQuery(".woocommerce-currency-switcher,.woocommerce-fillter >.select, .woocommerce-ordering > .orderby, .tbay-filter select").SumoSelect({csvDispCount:3,captionFormatAllSelected:"Yeah, OK, so everything."}),jQuery(".tbay-search-form").each(function(){$(this).hasClass("tbay-search-mobile")||$(this).find("select").SumoSelect({forceCustomRendering:!0})})})}}class AutoComplete{constructor(){void 0!==jQuery.Autocomplete&&"undefined"!=typeof diza_settings&&this._callAjaxSearch()}_callAjaxSearch(){var t=this,a=diza_settings.ajaxurl+"?action=diza_autocomplete_search",n=$("form.searchform.diza-ajax-search"),o=function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")};n.each(function(){var e=$(this),i=e.find("input[name=s]"),s=Boolean(e.data("thumbnail")),r=Boolean(e.data("price"));i.devbridgeAutocomplete({serviceUrl:t._AutoServiceUrl(i,a),minChars:t._AutoMinChars(i),appendTo:t._AutoAppendTo(i),width:"100%",maxHeight:"initial",onSelect:function(e){e.link.length>0&&(window.location.href=e.link)},onSearchStart:function(e){i.parents("form").addClass("tbay-loading")},beforeRender:function(e,t){void 0!==t[0].result&&$(e).prepend('<div class="list-header"><span>'+t[0].result+"</span></div>"),t[0].view_all&&$(e).append('<div class="view-all-products"><span>'+diza_settings.show_all_text+'</span><i class="tb-icon tb-icon-chevron-right"></i></div>')},onSearchComplete:function(e,t){n.removeClass("tbay-loading"),$(this).parents("form").addClass("open"),$(document.body).trigger("tbay_searchcomplete")},formatResult:(e,a)=>{let n=t._initformatResult(e,a,o,s,r);return n},onHide:function(e){$(this).parents("form").hasClass("open")&&$(this).parents("form").removeClass("open")}}),$("body").click(function(){i.is(":focus")||i.each(function(){$(this).devbridgeAutocomplete("hide")})})});var i=n.find('[name="product_cat"], [name="category"]');i.length&&i.change(function(e){let n=$(e.target).parents("form").find("input[name=s]"),o=n.devbridgeAutocomplete();o.hide(),o.setOptions({serviceUrl:t._AutoServiceUrl(n,a)}),o.onValueChange()}),$(document.body).on("tbay_searchcomplete",function(){$(".view-all-products").on("click",function(){$(this).parents("form").submit(),e.stopPropagation()})})}_AutoServiceUrl(e,t){let a=e.parents("form"),n=parseInt(a.data("count")),o=a.data("post-type"),i=a.find('[name="product_cat"], [name="category"]').val();return n>0&&(t+="&number="+n),t+="&post_type="+o,i&&(t+="&product_cat="+i),t}_AutoAppendTo(e){let t=e.parents("form");return void 0!==t.data("appendto")?t.data("appendto"):t.find(".diza-search-results")}_AutoMinChars(e){let t=e.parents("form");return parseInt(t.data("minchars"))}_initformatResult(e,t,a,n,o){"&"==t&&(t="&#038;");var i="("+a(t)+")",s="";return n&&e.image&&(s+=' <div class="suggestion-thumb">'+e.image+"</div>"),s+='<div class="suggestion-group">',s+='<div class="suggestion-title product-title">'+e.value.replace(new RegExp(i,"gi"),"<strong>$1</strong>").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/&lt;(\/?strong)&gt;/g,"<$1>")+"</div>",e.no_found&&(s='<div class="suggestion-title no-found-msg">'+e.value+"</div>"),o&&e.price&&(s+=' <div class="suggestion-price price">'+e.price+"</div>"),s+="</div>"}}class OnePageNav{constructor(){void 0!==jQuery.fn.onePageNav&&"undefined"!=typeof diza_settings&&this._productSingleOnepagenav()}_productSingleOnepagenav(){if($("#sticky-menu-bar").length>0){let e=0;$("#wpadminbar").length>0&&(e=$("#wpadminbar").outerHeight());let t=$("#sticky-menu-bar").outerHeight()+e;$("#sticky-menu-bar").onePageNav({currentClass:"current",changeHash:!1,scrollSpeed:750,scrollThreshold:.5,scrollOffset:t,filter:"",easing:"swing",begin:function(){},end:function(){},scrollChange:function(){}})}var e=$("#sticky-menu-bar");if(e.length>0){var t=$(window).width();$(".tbay_header-template").removeClass("main-sticky-header");var a=$(".single_add_to_cart_button").length>0?$(".single_add_to_cart_button").offset().top:0,n=$("div.product .out-of-stock").length>0?$("div.product .out-of-stock").offset().top:0;$(".by-vendor-name-link").length>0&&(n=$(".by-vendor-name-link").offset().top);var o=$(".single_add_to_cart_button").length>0?a:n;this._checkScroll(t,o,e),$(window).scroll(()=>{this._checkScroll(t,o,e)})}e.hasClass("active")&&jQuery("#wpadminbar").length>0&&e.css("top",$("#wpadminbar").height())}_checkScroll(e,t,a){e>=768&&$(window).scrollTop()>t?(a.addClass("active"),jQuery("#wpadminbar").length>0&&a.css("top",$("#wpadminbar").height())):a.removeClass("active")}}class CountDownTimer{constructor(){void 0!==jQuery.fn.tbayCountDown&&"undefined"!=typeof diza_settings&&($('[data-time="timmer"]').each((e,t)=>{let a=$(t).data("date").split("-"),n=$(t).data("days")?$(t).data("days"):"",o=$(t).data("hours")?$(t).data("hours"):"",i=$(t).data("mins")?$(t).data("mins"):"",s=$(t).data("secs")?$(t).data("secs"):"";jQuery(t).tbayCountDown({TargetDate:a[0]+"/"+a[1]+"/"+a[2]+" "+a[3]+":"+a[4]+":"+a[5],DisplayFormat:'<div class="times"><div class="day">%%D%%'+n+'</div><span>:</span><div class="hours">%%H%%'+o+'</div><span>:</span><div class="minutes">%%M%%'+i+'</div><span>:</span><div class="seconds">%%S%%'+s+"</div></div>",FinishMessage:""})}),$('[data-countdown="countdown"]').each((e,t)=>{let a=$(t).data("date").split("-"),n=$(t).data("days")?$(t).data("days"):"",o=$(t).data("hours")?$(t).data("hours"):"",i=$(t).data("mins")?$(t).data("mins"):"",s=$(t).data("secs")?$(t).data("secs"):"";jQuery(t).tbayCountDown({TargetDate:a[0]+"/"+a[1]+"/"+a[2]+" "+a[3]+":"+a[4]+":"+a[5],DisplayFormat:'<div class="times"><div class="day">%%D%%'+n+' </div><span>:</span><div class="hours">%%H%%'+o+' </div><span>:</span><div class="minutes">%%M%%'+i+' </div><span>:</span><div class="seconds">%%S%%'+s+" </div></div>",FinishMessage:""})}))}}class MMenu{constructor(){void 0!==jQuery.fn.mmenu&&"undefined"!=typeof diza_settings&&this._initMmenu()}_initMmenu(){$("body").hasClass("admin-bar")&&$("html").addClass("html-mmenu");var e="undefined"!=typeof diza_settings?diza_settings.cancel:"";$.mmenu.i18n({cancel:e});var t=$("#tbay-mobile-smartmenu");if(0!==$(t).length){var a=t.data("themes"),n=Boolean(t.data("enablesearch")),o=t.data("title"),i=Boolean(t.data("counters")),s=Boolean(t.data("enabletabs")),r=s?t.data("tabone"):"",c=s?t.data("taboneicon"):"",l=s?t.data("tabsecond"):"",d=s?t.data("tabsecondicon"):"",u=Boolean(t.data("enablesocial")),h="",m=Boolean(t.data("enablebottom")),p=Boolean(t.data("enableeffects")),f={offCanvas:!0,navbar:{title:o},counters:i,extensions:[a,p?t.data("effectspanels"):"",p?t.data("effectslistitems"):""]},v={navbars:[],searchfield:{}};n&&(v.navbars.push({position:["top"],content:["searchfield"]}),v.searchfield={panel:{add:!0}}),s&&v.navbars.push({type:"tabs",content:['<a href="#main-mobile-menu-mmenu"><i class="'+c+'"></i> <span>'+r+"</span></a>",'<a href="#mobile-menu-second-mmenu"><i class="'+d+'"></i> <span>'+l+"</span></a>"]});var b="";u&&void 0!==t.data("socialjsons")&&(h=JSON.parse(t.data("socialjsons").replace(/'/g,'"')),b=$.map(h,function(e){return`<a class="mmenu-icon" href="${e.url}" target="_blank"><i class="${e.icon}"></i></a>`})),m&&v.navbars.push({position:"bottom",content:b}),f=_.extend(v,f);var g={offCanvas:{pageSelector:"#tbay-main-content"},searchfield:{clear:!0}};$("#tbay-mobile-menu-navbar").mmenu(f,g);let e=$("#mm-searchfield");e.length>0&&e.prependTo($("#tbay-mobile-menu-navbar .mm-navbars_bottom")),u||$(".mm-navbars_bottom .mm-navbar").hide(),$(".mm-panels").css("top",$(".mm-navbars_top").outerHeight())}}}class TimeTo{constructor(){void 0!==jQuery.fn.timeTo&&"undefined"!=typeof diza_settings&&this._init()}_init(){$('[data-time="timmer"], [data-countdown="countdown"]').each(function(e,t){let a=$(this).data("id"),n=$(this).data("date").split("-");var o=new Date(n[2]+"-"+n[0]+"-"+n[1]+"T"+n[3]+":"+n[4]+":"+n[5]);$("#countdown-"+a).timeTo({timeTo:new Date(o)})})}}window.$=window.jQuery,jQuery(document).ready(()=>{function e(e){new SumoSelect}new MenuDropdownsAJAX,new MenuClickAJAX,new StickyHeader,new AccountMenu,new BackToTop,new CanvasMenu,new FuncCommon,new NewsLetter,new Banner,new Preload,new Search,new TreeView,new Accordion,new Section,new SumoSelect,new OnePageNav,new CountDownTimer,new MMenu,new TimeTo,new AutoComplete;if(jQuery.browser.mobile||$(window).width()<1200){var t=new Mobile;t._topBarDevice(),jQuery(window).scroll(()=>{t._topBarDevice()})}jQuery(document).on("woof_ajax_done",e)}),setTimeout(function(){jQuery(document.body).on("tbay_load_html_click_treeview",()=>{new TreeView})},2e3),$(window).on("resize",()=>{if(jQuery.browser.mobile||$(window).width()<1200){var e=new Mobile;e._topBarDevice(),jQuery(window).scroll(()=>{e._topBarDevice()})}});var CanvasMenuHandler=function(e,t){(new CanvasMenu)._initCanvasMenu()};jQuery(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addFilter("frontend/element_ready/tbay-nav-menu.default",CanvasMenuHandler)});var AutoCompleteHandler=function(e,t){new AutoComplete};jQuery(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/tbay-search-form.default",AutoCompleteHandler)});var CountDownTimerHandler=function(e,t){new CountDownTimer};$(document.body).on("tbay_quick_view",()=>{new CountDownTimer}),jQuery(window).on("elementor/frontend/init",function(){"undefined"!=typeof diza_settings&&Array.isArray(diza_settings.elements_ready.countdowntimer)&&$.each(diza_settings.elements_ready.countdowntimer,function(e,t){elementorFrontend.hooks.addAction("frontend/element_ready/tbay-"+t+".default",CountDownTimerHandler)})});
